{"version":3,"sources":["assets/scan/id-card.png","components/Camera/CameraTaken.tsx","components/Camera/CameraError.tsx","components/services/GetData.tsx","components/Camera/Loader.tsx","components/Camera/Camera.tsx","assets/scan/ID-bg.svg","components/Scanner/IndexScan.tsx","components/Scanner/ScanRejected.tsx","components/Scanner/ScanAccepted.tsx","components/App.tsx","index.tsx"],"names":["React","memo","props","className","id","role","to","src","img","alt","aria-label","aria-labelledby","getDataApi","fetch","method","then","response","json","data","summary","catch","error","console","log","Loader","Camera","useState","setData","isLoading","setIsLoading","loader","setLoader","setImage","useEffect","urlCamera","url","resultDataApi","outcome","onClick","ev","video","document","getElementsByTagName","navigator","mediaDevices","getUserMedia","stream","srcObject","play","canvas","getElementById","context","getContext","drawImage","createImageData","fill","toDataURL","replace","setTimeout","width","height","autoPlay","IndexScanner","ScanRejected","ScanAccepted","App","exact","path","component","IndexScan","CameraError","CameraTaken","ReactDOM","render","StrictMode"],"mappings":"uQAAe,MAA0B,oC,OCK1BA,MAAMC,MAAK,SAAqBC,GAC7C,OACE,qBAAKC,UAAU,SAASC,GAAG,IAAIC,KAAK,OAApC,SACE,sBAAKF,UAAU,oBAAf,UACE,oBAAIA,UAAU,2BAAd,4BACA,mBAAGA,UAAU,+BAAb,gDAGA,mBAAGA,UAAU,+BAAb,sDAGA,cAAC,IAAD,CAAMG,GAAG,gBAAT,SACE,yBAASH,UAAU,mCAAnB,SAEE,qBACEI,IAAKC,EACLC,IAAI,mBACJN,UAAU,2CAIhB,sBAAKA,UAAU,kCAAf,UACE,qBACEA,UAAU,6BACVO,aAAW,qBAEb,mBAAGP,UAAU,gCAAb,gCAEF,cAAC,IAAD,CACEG,GAAG,gBACHH,UAAU,+BACVQ,kBAAgB,SAHlB,4BC5BOX,MAAMC,MAAK,SAAqBC,GAC7C,OACE,qBAAKC,UAAU,SAASE,KAAK,OAA7B,SACE,sBAAKF,UAAU,oBAAf,UACE,oBAAIA,UAAU,2BAAd,4BACA,mBAAGA,UAAU,+BAAb,gDAGA,mBAAGA,UAAU,+BAAb,sDAGA,cAAC,IAAD,CAAMG,GAAG,gBAAT,SACE,yBAASH,UAAU,mCAAnB,SACE,qBAEEI,IAAKC,EACLC,IAAI,UACJN,UAAU,2CAIhB,0BAASA,UAAU,6BAAnB,UACE,qBAAKA,UAAU,0BACf,mBAAGA,UAAU,2BAAb,gCAEF,eAAC,IAAD,CACEG,GAAG,gBACHH,UAAU,+BACVQ,kBAAgB,SAHlB,UAKG,IALH,oBCpBOC,EAVI,WACjB,OAAOC,MAAM,gDAAiD,CAC5DC,OAAQ,SAEPC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,OAAOA,EAAKC,WAEbC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAI,4BCLnBC,EAHU,WACvB,OAAO,qBAAKrB,UAAU,yBAAyBO,aAAW,YCmG7Ce,EA7FU,WAAM,MAELC,qBAFK,mBAEtBR,EAFsB,KAEhBS,EAFgB,OAGKD,oBAA8B,GAHnC,mBAGtBE,EAHsB,KAGXC,EAHW,OAIDH,oBAA8B,GAJ7B,mBAItBI,EAJsB,KAIdC,EAJc,OAMHL,mBAA4C,IANzC,mBAMfM,GANe,WAS7BC,qBAAU,WACRrB,IAAaG,MAAK,SAACG,GACjBS,EAAQT,GACRc,EAASE,EAAUC,UAGpB,IAGH,IAAMC,EAAa,OAAGlB,QAAH,IAAGA,OAAH,EAAGA,EAAMmB,QAExBH,EAAY,CAAEC,IAAK,IA4CvB,OACE,sBAAKhC,UAAU,SAASE,KAAK,OAA7B,WARkB,IAAduB,GAAwC,aAAlBQ,EACjB,cAAC,EAAD,CAAa5B,IAAK0B,EAAUC,OACZ,IAAdP,GAAwC,aAAlBQ,EACxB,cAAC,EAAD,CAAa5B,IAAK0B,EAAUC,WAD9B,EAQL,qBAAKhC,UAAU,SAAf,SACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,sBAAd,4BACA,mBAAGA,UAAU,0BAAb,gDAGA,mBAAGA,UAAU,0BAAb,sDAIA,0BACEA,UAAU,8BACVmC,QAxDW,SAACC,GAEpB,IAAIC,EAA0BC,SAASC,qBAAqB,SAAS,GAErE,GACEF,GACAG,UAAUC,cACVD,UAAUC,aAAaC,aACvB,CACAF,UAAUC,aACPC,aAAa,CAAEL,OAAO,IACtBzB,MAAK,SAAU+B,GACdN,EAAMO,UAAYD,EAClBN,EAAMQ,UAGV,IAAIC,EAASR,SAASS,eAAe,UACjCC,EAAoCF,EAAOG,WAAW,MAC1DD,EAAQE,UAAUb,EAAO,EAAG,EAAG,IAAK,KAEpCW,EAAQG,gBAAgB,IAAK,KAC7BH,EAAQI,OAERrB,EAAUC,IAAMc,EAAOO,UAAU,aACjCtB,EAAUC,IAAIsB,QAAQ,iCAAkC,IACxD1B,GAAU,GAEZ2B,YAAW,WACT7B,GAAa,GACbE,GAAU,KACT,MAwBG,UAIE,uBAAO3B,GAAG,QAAQuD,MAAM,MAAMC,OAAO,MAAMC,UAAQ,IACnD,wBAAQzD,GAAG,SAASuD,MAAM,MAAMC,OAAO,WAEzC,qBAAKzD,UAAU,6BAAf,UACc,IAAX2B,EAAkB,cAAC,EAAD,IAAa,cC5F7B,MAA0B,kCCkC1BgC,EAhCoB,WACjC,OACE,sBAAK3D,UAAU,YAAf,UACE,wBAAQA,UAAU,wBAAlB,SACE,oBAAIA,UAAU,8BAAd,0BAEF,uBAAMA,UAAU,sBAAhB,UACE,oBAAIA,UAAU,6BAAd,0BACA,mBAAGA,UAAU,iCAAb,qFAIA,yBAASA,UAAU,qCAAnB,SACE,qBAAKA,UAAU,8BAAf,SACE,qBACEI,IAAKC,EACLC,IAAI,mBACJN,UAAU,qCAIhB,cAAC,IAAD,CACEG,GAAG,UACHH,UAAU,kCACVO,aAAW,QAHb,iCCIOqD,EA1BM,WACnB,OACE,sBAAK5D,UAAU,eAAf,UACE,wBAAQA,UAAU,2BAAlB,SACE,oBAAIA,UAAU,iCAAd,0BAEF,uBAAMA,UAAU,yBAAhB,UACE,oBAAIA,UAAU,gCAAd,0BACA,mBAAGA,UAAU,oCAAb,qFAIA,0BAASA,UAAU,wCAAnB,UACE,qBACEA,UAAU,iCACVO,aAAW,iCAEb,qBAAKP,UAAU,kCAAf,yBAEF,cAAC,IAAD,CAAMG,GAAG,UAAUH,UAAU,qCAA7B,mCCMO6D,EAzBM,WACnB,OACE,sBAAK7D,UAAU,eAAf,UACE,wBAAQA,UAAU,2BAAlB,SACE,oBAAIA,UAAU,iCAAd,0BAEF,uBAAMA,UAAU,yBAAhB,UACE,oBAAIA,UAAU,gCAAd,0BACA,mBAAGA,UAAU,oCAAb,qFAIA,cAAC,IAAD,CAAMG,GAAG,IAAIH,UAAU,oCAAvB,SACE,0BAASA,UAAU,wCAAnB,UACE,qBACEA,UAAU,iCACVO,aAAW,iCAEb,qBAAKP,UAAU,kCAAf,kCCOG8D,EAjBO,WACpB,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,cAAC,IAAD,CAAOF,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAeC,UAAWE,IACtC,cAAC,IAAD,CAAOH,KAAK,eAAeC,UAAWG,IACtC,cAAC,IAAD,CAAOJ,KAAK,gBAAgBC,UAAWL,IACvC,cAAC,IAAD,CAAOI,KAAK,gBAAgBC,UAAWJ,UCf/CQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjC,SAASS,eAAe,W","file":"static/js/main.2c7329c7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/id-card.f892d793.png\";","import img from \"../../assets/scan/id-card.png\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport { IImage } from \"../modelsInterface/IImage\";\n\nexport default React.memo(function CameraTaken(props: IImage) {\n  return (\n    <div className=\"Camera\" id=\"2\" role=\"main\">\n      <div className=\"Camera__mainTaken\">\n        <h2 className=\"Camera__mainTaken--title\">Take a picture</h2>\n        <p className=\"Camera__mainTaken--paragraph\">\n          Fit your ID card inside the frame.\n        </p>\n        <p className=\"Camera__mainTaken--paragraph\">\n          The picture will be taken automatically.\n        </p>\n        <Link to=\"/scanAccepted\">\n          <section className=\"Camera__mainTaken--cardContainer\">\n            {/* include props.img in src */}\n            <img\n              src={img}\n              alt=\"ID card template\"\n              className=\"Camera__mainTaken--cardContainerBg\"\n            />\n          </section>\n        </Link>\n        <div className=\"Camera__mainTaken--msgContainer\">\n          <div\n            className=\"Camera__mainTaken--msgIcon\"\n            aria-label=\"image icon check\"\n          ></div>\n          <p className=\"Camera__mainTaken--msgPicture\"> Picture taken!</p>\n        </div>\n        <Link\n          to=\"/scanAccepted\"\n          className=\"Camera__mainTaken--btnCancel\"\n          aria-labelledby=\"Cancel\"\n        >\n          Cancel\n        </Link>\n      </div>\n    </div>\n  );\n});\n","import img from \"../../assets/scan/id-card.png\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { IImage } from \"../modelsInterface/IImage\";\n\nexport default React.memo(function CameraError(props: IImage) {\n  return (\n    <div className=\"Camera\" role=\"main\">\n      <div className=\"Camera__mainError\">\n        <h2 className=\"Camera__mainError--title\">Take a picture</h2>\n        <p className=\"Camera__mainError--paragraph\">\n          Fit your ID card inside the frame.\n        </p>\n        <p className=\"Camera__mainError--paragraph\">\n          The picture will be taken automatically.\n        </p>\n        <Link to=\"/scanRejected\">\n          <section className=\"Camera__mainError--cardContainer\">\n            <img\n              // include props.img in scr\n              src={img}\n              alt=\"ID card\"\n              className=\"Camera__mainError--cardContainerBg\"\n            />\n          </section>\n        </Link>\n        <article className=\"Camera__main--msgContainer\">\n          <div className=\"Camera__main--msgIcon\"></div>\n          <p className=\"Camera__main--msgPicture\"> Too much glare</p>\n        </article>\n        <Link\n          to=\"/scanRejected\"\n          className=\"Camera__mainError--btnCancel\"\n          aria-labelledby=\"Cancel\"\n        >\n          {\" \"}\n          Cancel\n        </Link>\n      </div>\n    </div>\n  );\n});\n","const getDataApi = () => {\n  return fetch(\"https://front-exercise.z1.digital/evaluations\", {\n    method: \"POST\",\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      return data.summary;\n    })\n    .catch((error) => console.log(\"Ha sucedido un error\"));\n};\nexport default getDataApi;\n","const Loader: React.FC = (): JSX.Element => {\n  return <div className=\"Camera__main--loading \" aria-label=\"lodaer\"></div>;\n};\nexport default Loader;\n","import CameraTaken from \"./CameraTaken\";\nimport CameraError from \"./CameraError\";\nimport { MouseEvent, useState, useEffect } from \"react\";\nimport { IData } from \"../modelsInterface/IData\";\nimport getDataApi from \"../services/GetData\";\nimport Loader from \"./Loader\";\n\nconst Camera: React.FC = () => {\n  // states\n  const [data, setData] = useState<IData | undefined>();\n  const [isLoading, setIsLoading] = useState<boolean | undefined>(false);\n  const [loader, setLoader] = useState<boolean | undefined>(false);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [image, setImage] = useState<CanvasRenderingContext2D | String>(\"\");\n\n  // useEffect\n  useEffect(() => {\n    getDataApi().then((data) => {\n      setData(data);\n      setImage(urlCamera.url);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // get Data from Api\n  const resultDataApi = data?.outcome;\n  // url\n  let urlCamera = { url: \"\" };\n\n  // event camera\n  const handleCamera = (ev: MouseEvent) => {\n    // Get access to the camera\n    let video: HTMLVideoElement = document.getElementsByTagName(\"video\")[0];\n\n    if (\n      video &&\n      navigator.mediaDevices &&\n      navigator.mediaDevices.getUserMedia\n    ) {\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then(function (stream) {\n          video.srcObject = stream;\n          video.play();\n        });\n\n      let canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n      let context: CanvasRenderingContext2D = canvas.getContext(\"2d\")!;\n      context.drawImage(video, 0, 0, 289, 175);\n      // try to get image\n      context.createImageData(289, 175);\n      context.fill();\n      // try to get url image by props\n      urlCamera.url = canvas.toDataURL(\"image/png\");\n      urlCamera.url.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n      setLoader(true);\n    }\n    setTimeout(() => {\n      setIsLoading(true);\n      setLoader(false);\n    }, 8000);\n  };\n\n  const renderResult = () => {\n    if (isLoading === true && resultDataApi === \"Approved\") {\n      return <CameraTaken img={urlCamera.url} />;\n    } else if (isLoading === true && resultDataApi !== \"Approved\") {\n      return <CameraError img={urlCamera.url} />;\n    }\n  };\n\n  return (\n    <div className=\"Camera\" role=\"main\">\n      {renderResult()}\n      <div className=\"Camera\">\n        <div className=\"Camera__main\">\n          <h2 className=\"Camera__main--title\">Take a picture</h2>\n          <p className=\"Camera__main--paragraph\">\n            Fit your ID card inside the frame.\n          </p>\n          <p className=\"Camera__main--paragraph\">\n            The picture will be taken automatically.\n          </p>\n\n          <section\n            className=\"Camera__main--cardContainer\"\n            onClick={handleCamera}\n          >\n            <video id=\"video\" width=\"289\" height=\"175\" autoPlay></video>\n            <canvas id=\"canvas\" width=\"289\" height=\"175\"></canvas>\n          </section>\n          <div className=\"Camera__main--msgContainer\">\n            {loader === true ? <Loader /> : \"\"}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Camera;\n","export default __webpack_public_path__ + \"static/media/ID-bg.a826b8dc.svg\";","import img from \"../../assets/scan/ID-bg.svg\";\nimport { Link } from \"react-router-dom\";\nconst IndexScanner: React.FC<{}> = () => {\n  return (\n    <div className=\"scanEmpty\">\n      <header className=\"scanEmpty__headerHome\">\n        <h2 className=\"scanEmpty__headerHome--logo\">BankClient</h2>\n      </header>\n      <main className=\"scanEmpty__mainHome\">\n        <h2 className=\"scanEmpty__mainHome--title\">Scan your ID</h2>\n        <p className=\"scanEmpty__mainHome--paragraph\">\n          Take a picture. It may take time to validate your personal\n          information.\n        </p>\n        <section className=\"scanEmpty__mainHome--cardContainer\">\n          <div className=\"scanEmpty__mainHome--cardBg\">\n            <img\n              src={img}\n              alt=\"ID card template\"\n              className=\"scanEmpty__mainHome--cardSVG\"\n            />\n          </div>\n        </section>\n        <Link\n          to=\"/camera\"\n          className=\"scanEmpty__mainHome--btnPrimary\"\n          aria-label=\"enter\"\n        >\n          Take picture\n        </Link>\n      </main>\n    </div>\n  );\n};\nexport default IndexScanner;\n","import { Link } from \"react-router-dom\";\nconst ScanRejected = (): JSX.Element => {\n  return (\n    <div className=\"scanRejected\">\n      <header className=\"scanRejected__headerHome\">\n        <h2 className=\"scanRejected__headerHome--logo\">BankClient</h2>\n      </header>\n      <main className=\"scanRejected__mainHome\">\n        <h2 className=\"scanRejected__mainHome--title\">Scan your ID</h2>\n        <p className=\"scanRejected__mainHome--paragraph\">\n          Take a picture. It may take time to validate your personal\n          information.\n        </p>\n        <section className=\"scanRejected__mainHome--cardContainer\">\n          <div\n            className=\"scanRejected__mainHome--cardBg\"\n            aria-label=\"image identity card template\"\n          ></div>\n          <div className=\"scanRejected__mainHome--msgScan\">Rejected</div>\n        </section>\n        <Link to=\"/camera\" className=\"scanRejected__mainHome--btnPrimary\">\n          Retake picture\n        </Link>\n      </main>\n    </div>\n  );\n};\nexport default ScanRejected;\n","import { Link } from \"react-router-dom\";\nconst ScanAccepted = (): JSX.Element => {\n  return (\n    <div className=\"scanAccepted\">\n      <header className=\"scanAccepted__headerHome\">\n        <h2 className=\"scanAccepted__headerHome--logo\">BankClient</h2>\n      </header>\n      <main className=\"scanAccepted__mainHome\">\n        <h2 className=\"scanAccepted__mainHome--title\">Scan your ID</h2>\n        <p className=\"scanAccepted__mainHome--paragraph\">\n          Take a picture. It may take time to validate your personal\n          information.\n        </p>\n        <Link to=\"/\" className=\"scanAccepted__mainHome--linkRoute\">\n          <section className=\"scanAccepted__mainHome--cardContainer\">\n            <div\n              className=\"scanAccepted__mainHome--cardBg\"\n              aria-label=\"image identity card template\"\n            ></div>\n            <div className=\"scanAccepted__mainHome--msgScan\">Accepted</div>\n          </section>\n        </Link>\n      </main>\n    </div>\n  );\n};\nexport default ScanAccepted;\n","import \"../stylesheets/App.scss\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Camera from \"./Camera/Camera\";\nimport CameraError from \"./Camera/CameraError\";\nimport CameraTaken from \"./Camera/CameraTaken\";\nimport IndexScan from \"./Scanner/IndexScan\";\nimport ScanRejected from \"./Scanner/ScanRejected\";\nimport ScanAccepted from \"./Scanner/ScanAccepted\";\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={IndexScan} />\n        <Route path=\"/camera\">\n          <Camera />\n        </Route>\n        <Route path=\"/cameraError\" component={CameraError} />\n        <Route path=\"/cameraTaken\" component={CameraTaken} />\n        <Route path=\"/scanRejected\" component={ScanRejected} />\n        <Route path=\"/scanAccepted\" component={ScanAccepted} />\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}